<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ê—Ä–±–∏—Ç—Ä–∞–∂–∞ - –†–∞—Å—á—ë—Ç —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≤–∏–ª–æ–∫ –æ–Ω–ª–∞–π–Ω</title>
    <meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞—Ä–±–∏—Ç—Ä–∞–∂–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–∞–≤–æ–∫ –Ω–∞ –≤–∏–ª–∫–∏. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 2 –∏ 3 –∏—Å—Ö–æ–¥–æ–≤, –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.">
    <meta name="keywords" content="–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞—Ä–±–∏—Ç—Ä–∞–∂–∞, –≤–∏–ª–∫–∏ –≤ —Å—Ç–∞–≤–∫–∞—Ö, –∞—Ä–±–∏—Ç—Ä–∞–∂ –±—É–∫–º–µ–∫–µ—Ä—ã, —Ä–∞—Å—á–µ—Ç —Å—Ç–∞–≤–æ–∫, surebet calculator">
    <meta property="og:title" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ê—Ä–±–∏—Ç—Ä–∞–∂–∞ - –†–∞—Å—á—ë—Ç —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≤–∏–ª–æ–∫">
    <meta property="og:description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –æ–Ω–ª–∞–π–Ω –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫">
    
    <!-- Yandex.RTB Loader -->
    <script>window.yaContextCb=window.yaContextCb||[]</script>
    <script src="https://yandex.ru/ads/system/context.js" async></script>
    
    <style>
        :root {
            --color-bg-primary: #f5f5f5;
            --color-surface: #ffffff;
            --color-primary: #21808d;
            --color-primary-hover: #1d7480;
            --color-text-primary: #13343b;
            --color-text-secondary: #626c70;
            --color-border: rgba(94, 82, 64, 0.2);
            --color-success: #21808d;
            --color-error: #c0152f;
            --color-card-border: rgba(94, 82, 64, 0.12);
            --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-bg-primary: #1f2121;
                --color-surface: #262828;
                --color-text-primary: #f5f5f5;
                --color-text-secondary: rgba(167, 169, 169, 0.7);
                --color-border: rgba(119, 124, 124, 0.3);
                --color-primary: #32b8c6;
                --color-primary-hover: #2da6b2;
                --color-card-border: rgba(119, 124, 124, 0.2);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-base);
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .subtitle {
            color: var(--color-text-secondary);
            font-size: 16px;
        }

        .calculator-card {
            background: var(--color-surface);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid var(--color-card-border);
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--color-text-primary);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-primary);
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--color-text-primary);
        }

        input, select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-size: 16px;
            background: var(--color-surface);
            color: var(--color-text-primary);
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .button-primary {
            width: 100%;
            padding: 16px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
            margin-top: 10px;
        }

        .button-primary:hover {
            background: var(--color-primary-hover);
        }

        .result-card {
            background: var(--color-surface);
            border-radius: 12px;
            padding: 25px;
            border: 2px solid var(--color-primary);
            margin-top: 20px;
            display: none;
        }

        .result-card.show {
            display: block;
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--color-border);
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 500;
            color: var(--color-text-secondary);
        }

        .result-value {
            font-weight: 600;
            color: var(--color-text-primary);
            font-size: 18px;
        }

        .profit-highlight {
            background: rgba(33, 128, 141, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }

        .profit-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--color-success);
            margin: 10px 0;
        }

        .profit-label {
            font-size: 14px;
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .bet-breakdown {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .bet-card {
            background: rgba(33, 128, 141, 0.05);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--color-card-border);
        }

        .bet-card h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--color-primary);
        }

        .bet-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .error-message {
            background: rgba(192, 21, 47, 0.1);
            color: var(--color-error);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .formula-box {
            background: rgba(33, 128, 141, 0.05);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid var(--color-primary);
        }

        .formula-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .formula {
            font-family: monospace;
            font-size: 14px;
            color: var(--color-text-secondary);
            line-height: 1.8;
        }

        .bookmaker-links {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .bookmaker-btn {
            background: var(--color-primary);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            transition: background 0.3s ease;
            display: block;
        }

        .bookmaker-btn:hover {
            background: var(--color-primary-hover);
        }

        .footer-links {
            text-align: center;
            margin-top: 30px;
            font-size: 12px;
            color: var(--color-text-secondary);
        }

        .footer-links a {
            color: var(--color-primary);
            text-decoration: none;
            margin: 0 10px;
        }

        @media (max-width: 768px) {
            .two-column, .bet-breakdown {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öñÔ∏è –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ê—Ä–±–∏—Ç—Ä–∞–∂–∞</h1>
            <p class="subtitle">–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏</p>
            
            <!-- Yandex.RTB - Top Banner -->
            <div style="margin: 20px 0; min-height: 90px;">
                <!-- Yandex.RTB R-A-17819625-1 -->
                <div id="yandex_rtb_R-A-17819625-1"></div>
                <script>
                    window.yaContextCb.push(() => {
                        Ya.Context.AdvManager.render({
                            "blockId": "R-A-17819625-1",
                            "renderTo": "yandex_rtb_R-A-17819625-1"
                        })
                    })
                </script>
            </div>
        </div>

        <div class="calculator-card">
            <div class="section-title">üìä –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞</div>
            
            <div class="input-group">
                <label for="bankroll">üí∞ –û–±—â–∏–π –±–∞–Ω–∫ (—Ä—É–±–ª–∏)</label>
                <input type="number" id="bankroll" placeholder="10000" value="10000" min="1">
            </div>

            <div class="input-group">
                <label for="outcomes">üéØ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–æ–≤</label>
                <select id="outcomes" onchange="updateInputs()">
                    <option value="2">2 –∏—Å—Ö–æ–¥–∞ (—Ç–µ–Ω–Ω–∏—Å, —Ç–æ—Ç–∞–ª, —Ñ–æ—Ä–∞)</option>
                    <option value="3">3 –∏—Å—Ö–æ–¥–∞ (—Ñ—É—Ç–±–æ–ª 1X2)</option>
                </select>
            </div>

            <div id="oddsInputs">
                <div class="two-column">
                    <div class="input-group">
                        <label for="k1">üî¢ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1</label>
                        <input type="number" id="k1" placeholder="2.10" step="0.01" min="1.01">
                    </div>
                    <div class="input-group">
                        <label for="k2">üî¢ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 2</label>
                        <input type="number" id="k2" placeholder="2.05" step="0.01" min="1.01">
                    </div>
                </div>
                <div class="input-group" id="k3Group" style="display: none;">
                    <label for="k3">üî¢ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 3 (–Ω–∏—á—å—è)</label>
                    <input type="number" id="k3" placeholder="3.40" step="0.01" min="1.01">
                </div>
            </div>

            <button class="button-primary" onclick="calculate()">üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

            <div style="margin-top: 20px;">
                <button class="button-primary" onclick="saveToHistory()" style="background: rgba(33, 128, 141, 0.2); color: var(--color-primary);">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
                </button>
            </div>

            <div class="error-message" id="errorMsg"></div>
        </div>

        <!-- History Section -->
        <div class="calculator-card" id="historySection" style="display: none;">
            <div class="section-title">üìú –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤</div>
            <div id="historyList"></div>
            <button class="button-primary" onclick="clearHistory()" style="background: var(--color-error); margin-top: 15px;">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
            </button>
        </div>

        <div class="result-card" id="results">
            <div class="section-title">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞</div>

            <div class="result-row">
                <span class="result-label">–°—É–º–º–∞ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (S)</span>
                <span class="result-value" id="sumInverse">-</span>
            </div>

            <div class="result-row">
                <span class="result-label">–ï—Å—Ç—å –∞—Ä–±–∏—Ç—Ä–∞–∂?</span>
                <span class="result-value" id="hasArbitrage">-</span>
            </div>

            <div class="profit-highlight">
                <div class="profit-label">–ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∏–±—ã–ª–∏</div>
                <div class="profit-value" id="profitPercent">0%</div>
            </div>

            <div class="bet-breakdown" id="betBreakdown"></div>

            <div class="formula-box">
                <div class="formula-title">üìê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:</div>
                <div class="formula" id="formulaText"></div>
            </div>

            <!-- Yandex.RTB - Bottom Banner -->
            <div style="margin: 20px 0; min-height: 90px;">
                <!-- Yandex.RTB R-A-17819625-1 -->
                <div id="yandex_rtb_R-A-17819625-2"></div>
                <script>
                    window.yaContextCb.push(() => {
                        Ya.Context.AdvManager.render({
                            "blockId": "R-A-17819625-1",
                            "renderTo": "yandex_rtb_R-A-17819625-2"
                        })
                    })
                </script>
            </div>
        </div>

                <!-- Bookmakers Section -->
        <div class="calculator-card">
            <div class="section-title">üéØ –¢–æ–ø –ª–µ–≥–∞–ª—å–Ω—ã—Ö –±—É–∫–º–µ–∫–µ—Ä–æ–≤ –†–§</div>
            <p style="color: var(--color-text-secondary); margin-bottom: 20px;">
                –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —É –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –±—É–∫–º–µ–∫–µ—Ä–æ–≤ (–¶–£–ü–ò–°) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏–≥—Ä—ã –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤.
            </p>
            <div class="bookmaker-links">
                <!-- Winline -->
                <a href="YOUR_WINLINE_LINK" target="_blank" rel="noopener noreferrer" class="bookmaker-btn" style="background: #ff7f00;">
                    üèÜ Winline<br><small>–§—Ä–∏–±–µ—Ç 3000‚ÇΩ</small>
                </a>
                
                <!-- BetBoom -->
                <a href="YOUR_BETBOOM_LINK" target="_blank" rel="noopener noreferrer" class="bookmaker-btn" style="background: #ff0000;">
                    üí• BetBoom<br><small>–ë–æ–Ω—É—Å –¥–æ 7000‚ÇΩ</small>
                </a>
                
                <!-- Fonbet -->
                <a href="YOUR_FONBET_LINK" target="_blank" rel="noopener noreferrer" class="bookmaker-btn" style="background: #004d93;">
                    ‚öΩ –§–æ–Ω–±–µ—Ç<br><small>–§—Ä–∏–±–µ—Ç 2000‚ÇΩ</small>
                </a>
                
                <!-- Liga Stavok -->
                <a href="YOUR_LIGASTAVOK_LINK" target="_blank" rel="noopener noreferrer" class="bookmaker-btn" style="background: #008c44;">
                    üé≤ –õ–∏–≥–∞ –°—Ç–∞–≤–æ–∫<br><small>–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã</small>
                </a>
            </div>
        </div>


        <!-- Info Section for SEO -->
        <div class="calculator-card" style="margin-top: 30px;">
            <div class="section-title">üìö –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º</div>
            <div style="line-height: 1.8; color: var(--color-text-secondary);">
                <p><strong>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞—Ä–±–∏—Ç—Ä–∞–∂–∞</strong> –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏ –±–µ—Ç—Ç–∏–Ω–≥–µ.</p>
                
                <h3 style="color: var(--color-primary); margin-top: 20px;">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Ä–±–∏—Ç—Ä–∞–∂?</h3>
                <p>–ê—Ä–±–∏—Ç—Ä–∞–∂ (–≤–∏–ª–∫–∞) –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å—É–º–º–∞ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –º–µ–Ω—å—à–µ 1: <code>1/K‚ÇÅ + 1/K‚ÇÇ < 1</code></p>
                <p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –≤—Å–µ –∏—Å—Ö–æ–¥—ã –∏ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–±—ã–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –º–∞—Ç—á–∞.</p>
                
                <h3 style="color: var(--color-primary); margin-top: 20px;">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
                <ol>
                    <li>–í–≤–µ–¥–∏—Ç–µ –æ–±—â–∏–π –±–∞–Ω–∫ –¥–ª—è –∞—Ä–±–∏—Ç—Ä–∞–∂–∞</li>
                    <li>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–æ–≤ (2 –¥–ª—è —Ç–µ–Ω–Ω–∏—Å–∞/—Ç–æ—Ç–∞–ª–∞, 3 –¥–ª—è —Ñ—É—Ç–±–æ–ª–∞)</li>
                    <li>–í–≤–µ–¥–∏—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –±—É–∫–º–µ–∫–µ—Ä–æ–≤</li>
                    <li>–ù–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"</li>
                    <li>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–∫–∞–∂–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã —Å—Ç–∞–≤–æ–∫ –∏ –ø—Ä–∏–±—ã–ª—å</li>
                </ol>
                
                <h3 style="color: var(--color-primary); margin-top: 20px;">–õ—É—á—à–∏–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞:</h3>
                <ul>
                    <li><strong>–¢–µ–Ω–Ω–∏—Å</strong> - 2 –∏—Å—Ö–æ–¥–∞, –ª–µ–≥—á–µ –Ω–∞–π—Ç–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂</li>
                    <li><strong>–¢–æ—Ç–∞–ª—ã –∏ —Ñ–æ—Ä—ã –≤ —Ñ—É—Ç–±–æ–ª–µ</strong> - 2 –∏—Å—Ö–æ–¥–∞ –≤–º–µ—Å—Ç–æ 3</li>
                    <li><strong>–ë–∞—Å–∫–µ—Ç–±–æ–ª</strong> - –≤—ã—Å–æ–∫–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</li>
                </ul>
                
                <p style="margin-top: 20px;"><strong>üí° –°–æ–≤–µ—Ç:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å—á—ë—Ç–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞!</p>
            </div>
        </div>

        <!-- Footer with links -->
        <div class="footer-links">
            <a href="#privacy">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
            <a href="#terms">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
            <a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            <p style="margin-top: 10px;">¬© 2025 –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ê—Ä–±–∏—Ç—Ä–∞–∂–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>

    <script>
        function updateInputs() {
            const outcomes = document.getElementById('outcomes').value;
            const k3Group = document.getElementById('k3Group');
            
            if (outcomes === '3') {
                k3Group.style.display = 'block';
            } else {
                k3Group.style.display = 'none';
            }
        }

        function calculate() {
            // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            const bankroll = parseFloat(document.getElementById('bankroll').value);
            const k1 = parseFloat(document.getElementById('k1').value);
            const k2 = parseFloat(document.getElementById('k2').value);
            const outcomes = document.getElementById('outcomes').value;
            const k3 = outcomes === '3' ? parseFloat(document.getElementById('k3').value) : null;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            const errorMsg = document.getElementById('errorMsg');
            errorMsg.classList.remove('show');

            if (!bankroll || bankroll <= 0) {
                showError('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –±–∞–Ω–∫ (–±–æ–ª—å—à–µ 0)');
                return;
            }

            if (!k1 || k1 < 1.01) {
                showError('–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 1.01');
                return;
            }

            if (!k2 || k2 < 1.01) {
                showError('–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 2 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 1.01');
                return;
            }

            if (outcomes === '3' && (!k3 || k3 < 1.01)) {
                showError('–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 3 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 1.01');
                return;
            }

            // –†–∞—Å—á—ë—Ç—ã
            let sumInverse, stakes, payouts;
            
            if (outcomes === '2') {
                sumInverse = (1/k1) + (1/k2);
                stakes = [
                    bankroll * (1/k1) / sumInverse,
                    bankroll * (1/k2) / sumInverse
                ];
                payouts = [
                    stakes[0] * k1,
                    stakes[1] * k2
                ];
            } else {
                sumInverse = (1/k1) + (1/k2) + (1/k3);
                stakes = [
                    bankroll * (1/k1) / sumInverse,
                    bankroll * (1/k2) / sumInverse,
                    bankroll * (1/k3) / sumInverse
                ];
                payouts = [
                    stakes[0] * k1,
                    stakes[1] * k2,
                    stakes[2] * k3
                ];
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞
            const hasArbitrage = sumInverse < 1;
            const profitPercent = hasArbitrage ? ((1 - sumInverse) * 100).toFixed(2) : 0;
            const profit = hasArbitrage ? (payouts[0] - bankroll).toFixed(2) : 0;

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('sumInverse').textContent = sumInverse.toFixed(4);
            document.getElementById('hasArbitrage').textContent = hasArbitrage ? '‚úÖ –î–∞' : '‚ùå –ù–µ—Ç';
            document.getElementById('hasArbitrage').style.color = hasArbitrage ? 'var(--color-success)' : 'var(--color-error)';
            
            document.getElementById('profitPercent').textContent = hasArbitrage ? `+${profitPercent}%` : '0%';
            document.getElementById('profitPercent').style.color = hasArbitrage ? 'var(--color-success)' : 'var(--color-error)';

            // –†–∞–∑–±–∏–≤–∫–∞ —Å—Ç–∞–≤–æ–∫
            const betBreakdown = document.getElementById('betBreakdown');
            betBreakdown.innerHTML = '';

            stakes.forEach((stake, index) => {
                const coeff = index === 0 ? k1 : (index === 1 ? k2 : k3);
                betBreakdown.innerHTML += `
                    <div class="bet-card">
                        <h3>–ò—Å—Ö–æ–¥ ${index + 1}</h3>
                        <div class="bet-detail">
                            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç:</span>
                            <strong>${coeff.toFixed(2)}</strong>
                        </div>
                        <div class="bet-detail">
                            <span>–°—Ç–∞–≤–∫–∞:</span>
                            <strong>${stake.toFixed(2)} ‚ÇΩ</strong>
                        </div>
                        <div class="bet-detail">
                            <span>–í—ã–ø–ª–∞—Ç–∞:</span>
                            <strong>${payouts[index].toFixed(2)} ‚ÇΩ</strong>
                        </div>
                        <div class="bet-detail" style="margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--color-border);">
                            <span>–ü—Ä–∏–±—ã–ª—å:</span>
                            <strong style="color: var(--color-success);">+${(payouts[index] - bankroll).toFixed(2)} ‚ÇΩ</strong>
                        </div>
                    </div>
                `;
            });

            // –§–æ—Ä–º—É–ª–∞
            const formulaText = document.getElementById('formulaText');
            if (outcomes === '2') {
                formulaText.innerHTML = `
                    S = 1/${k1} + 1/${k2} = ${sumInverse.toFixed(4)}<br>
                    –°—Ç–∞–≤–∫–∞‚ÇÅ = ${bankroll} √ó (1/${k1}) / ${sumInverse.toFixed(4)} = ${stakes[0].toFixed(2)} ‚ÇΩ<br>
                    –°—Ç–∞–≤–∫–∞‚ÇÇ = ${bankroll} √ó (1/${k2}) / ${sumInverse.toFixed(4)} = ${stakes[1].toFixed(2)} ‚ÇΩ<br>
                    –ü—Ä–∏–±—ã–ª—å = ${hasArbitrage ? `+${profit} ‚ÇΩ (${profitPercent}%)` : '0 ‚ÇΩ'}
                `;
            } else {
                formulaText.innerHTML = `
                    S = 1/${k1} + 1/${k2} + 1/${k3} = ${sumInverse.toFixed(4)}<br>
                    –°—Ç–∞–≤–∫–∞‚ÇÅ = ${bankroll} √ó (1/${k1}) / ${sumInverse.toFixed(4)} = ${stakes[0].toFixed(2)} ‚ÇΩ<br>
                    –°—Ç–∞–≤–∫–∞‚ÇÇ = ${bankroll} √ó (1/${k2}) / ${sumInverse.toFixed(4)} = ${stakes[1].toFixed(2)} ‚ÇΩ<br>
                    –°—Ç–∞–≤–∫–∞‚ÇÉ = ${bankroll} √ó (1/${k3}) / ${sumInverse.toFixed(4)} = ${stakes[2].toFixed(2)} ‚ÇΩ<br>
                    –ü—Ä–∏–±—ã–ª—å = ${hasArbitrage ? `+${profit} ‚ÇΩ (${profitPercent}%)` : '0 ‚ÇΩ'}
                `;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('results').classList.add('show');

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç –∞—Ä–±–∏—Ç—Ä–∞–∂–∞
            if (!hasArbitrage) {
                showError(`‚ö†Ô∏è –ê—Ä–±–∏—Ç—Ä–∞–∂ –Ω–µ –Ω–∞–π–¥–µ–Ω! S = ${sumInverse.toFixed(4)} ‚â• 1. –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏ –Ω–µ –±—É–¥–µ—Ç.`);
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞—Å—á—ë—Ç
            window.lastCalculation = {
                bankroll,
                k1,
                k2,
                k3: outcomes === '3' ? k3 : null,
                outcomes,
                sumInverse,
                hasArbitrage,
                profitPercent,
                stakes,
                payouts,
                timestamp: new Date().toLocaleString('ru-RU')
            };
        }

        function showError(message) {
            const errorMsg = document.getElementById('errorMsg');
            errorMsg.textContent = message;
            errorMsg.classList.add('show');
        }

        function saveToHistory() {
            if (!window.lastCalculation) {
                alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞—Å—á—ë—Ç!');
                return;
            }

            // –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –∏–∑ localStorage
            let history = JSON.parse(localStorage.getItem('arbitrageHistory') || '[]');
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞—Å—á—ë—Ç
            history.unshift(window.lastCalculation);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 10 –∑–∞–ø–∏—Å–µ–π
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º
            localStorage.setItem('arbitrageHistory', JSON.stringify(history));
            
            alert('‚úÖ –†–∞—Å—á—ë—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –∏—Å—Ç–æ—Ä–∏—é!');
            loadHistory();
        }

        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('arbitrageHistory') || '[]');
            const historySection = document.getElementById('historySection');
            const historyList = document.getElementById('historyList');
            
            if (history.length === 0) {
                historySection.style.display = 'none';
                return;
            }
            
            historySection.style.display = 'block';
            historyList.innerHTML = '';
            
            history.forEach((item, index) => {
                const profitColor = item.hasArbitrage ? 'var(--color-success)' : 'var(--color-error)';
                historyList.innerHTML += `
                    <div style="background: rgba(33, 128, 141, 0.05); padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid ${profitColor};">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <strong>${item.timestamp}</strong>
                            <span style="color: ${profitColor}; font-weight: 600;">
                                ${item.hasArbitrage ? `+${item.profitPercent}%` : '–ù–µ—Ç –∞—Ä–±–∏—Ç—Ä–∞–∂–∞'}
                            </span>
                        </div>
                        <div style="font-size: 14px; color: var(--color-text-secondary);">
                            üí∞ –ë–∞–Ω–∫: ${item.bankroll} ‚ÇΩ | 
                            üî¢ –ö–æ—ç—Ñ—Ñ: ${item.k1} / ${item.k2}${item.k3 ? ` / ${item.k3}` : ''}
                        </div>
                        <button onclick="restoreCalculation(${index})" style="margin-top: 10px; padding: 8px 16px; background: var(--color-primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 13px;">
                            ‚Ü©Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                `;
            });
        }

        function restoreCalculation(index) {
            const history = JSON.parse(localStorage.getItem('arbitrageHistory') || '[]');
            const item = history[index];
            
            if (!item) return;
            
            document.getElementById('bankroll').value = item.bankroll;
            document.getElementById('k1').value = item.k1;
            document.getElementById('k2').value = item.k2;
            document.getElementById('outcomes').value = item.outcomes;
            
            if (item.outcomes === '3' && item.k3) {
                document.getElementById('k3').value = item.k3;
                document.getElementById('k3Group').style.display = 'block';
            }
            
            calculate();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function clearHistory() {
            if (confirm('–£–¥–∞–ª–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å—á—ë—Ç–æ–≤?')) {
                localStorage.removeItem('arbitrageHistory');
                loadHistory();
                alert('‚úÖ –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞!');
            }
        }

        // –î–µ–º–æ-—Ä–∞—Å—á—ë—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            document.getElementById('k1').value = '2.40';
            document.getElementById('k2').value = '1.75';
            setTimeout(() => {
                calculate();
                loadHistory();
            }, 500);
        };
    </script>
</body>
</html>
